= Как |> создать дреды =

== Базовая настройка волос ==

# Создайте сферу в начале координат нажатием ((Ctrl+LMB)) на [Icon:SOP/sphere][Sphere|/shelf/sphere] на полке во вкладке __Create__.

# Войдите в объект sphere и установите значения в __Rows__ и __Columns__ равные `50` чтобы получить более круглую сферу.

# Добавьте на сферу волосы используя инструмент [Icon:FUR/add_fur][Add Fur|/shelf/groom_addfur] на полке во вкладке __Hair__.

# На объекте fur установите __Length__ равное `0.6`.

Теперь вы увидите как выглядят волосы по умолчанию. Направляющие волос торчат прямо, и каждый сгенерированный волос располагается среди множества направляющих.

== Настройка рендера ==

Чтобы волосы лучше выглядели, настройте быстрый рендер.

# Поверните вьюпорт, чтобы смотреть прямо на сферу.

# Нажмите ((Ctrl+LMB)) на инструменте [Area Light|/shelf/arealight] на полке во вкладке [Lights and Cameras|/shelf/lightsandcameras]. Это создаст источник света в позиции наблюдения.

# Верните положение вьюпорта обратно на сферу.

# Переключитесь на [Render View|/ref/views/ipr] и нажмите __Render__.

Вы должны получить что-то вроде этого:

[Image:/images/howto/hair_rasta_step1.png]

NOTE:
        По мере того, как вы работаете над этим практическим заданием, вы должны иметь возможность видеть эффект ваших изменений в [Scene Viewer|/basics/view], но нелишним будет производить дополнительные тестовые рендеры по мере продвижения.

== Превращение направляющих в плотные пряди волос ==

В дредах каждый ближайший волос следует за направляющией, таким образом вокруг каждой направляющей образуется плотная прядь волос. 

Для этого вы можете использовать атрибут `clusterid`. Волосы не интерполируются между направляющими с различными `clusterid`s, поэтому, если вы назначаете каждому волосу собственный `clusterid`, вы получите желаемый эффект.

# Войдите в объект fur > ноду guides.

# Присоедините [Icon:SOP/attribwrangle][Primitive Wrangle|/nodes/sop/attribwrangle] к ноде `INPUT_GUIDES`, и убедитесь, что на ней установлен [display flag|/nodes/sop/].

# Установите `i@clusterid = @primnum;` в параметр __VEXpression__. Это добавит индекс каждого примитива (`@primnum`) в атрибут `clusterid` (`i@clusterid`), и поэтому каждый примитив будет иметь различное значение.

# Перейдите на вкладку __Guides__ на [fur object|Node:obj/fur] и снизьте __Density__ до `50`, чтобы получить более толстве пряди в меньшем количестве.

Вот что вы должны получить после этих корректировок:

[Image:/images/howto/hair_rasta_step2.png]

== Уплотнение прядей ==

Расположить волосы каждой пряди ближе к направляющим.

#  Перейдите к вкладке __Appearance > Clump__ в [fur object|Node:obj/fur].

# Включите __Clump Fur__.

# Установите значение `50` в __Density__, чтобы соответствовать направляющим.

# Установтие значение __Use Guide Curves__ в __Clump Geo Source__. Это позволит повторно использовать направляющие кривые для укладки в пряди.

# Измените кривую как на скриншоте снизу. В результате волосы приблизятся к направляющей и потянутся прямо вдоль нее.

    [Image:/images/howto/hair_rasta_clumpramp.png]
    
# Вы можете контролировать эффект целиком используя __Tightness__. Значение `0.5` по умолчанию приблизит волосы к направляющей наполовину. Если будет установлено значение `1.0`, то все волосы приблизятся к направдяющей настолько, что образуют тонкую нить. 

# На вкладке __Basic__, увеличьте значение __Segments__ до `20`.

    NOTE:
        Это необходимо сделать, так как кривые волос со значением `4` по умолчанию, не имеют достаточного количества сегментов для реализации крутого профиля, который использовался выше. Дополнительные сегменты также будут полезны для настройки кудрей с высокой частотой.

[Image:/images/howto/hair_rasta_step3.png]

== Добавление кудрей ==

Добавьте кудри, чтобы избавиться от идеального прямого вида.

# Перейдите к __Appearance > Frizz__ на [fur object|Node:obj/fur] и установите значение `0.25` в __Maximum Frizz__.

# Установите __Frequency__ на `20`.

    NOTE:
        Помните, что вы увеличили количество сегментов волос в предыдущем разделе. Без этого у вас не будет достаточно точек на кривых волос, чтобы реализовать высокочастотный шум.
        
# Измените кривую как на скриншоте снизу, чтобы получить кудри по всей длине волос: 
    [Image:/images/howto/hair_rasta_frizzramp.png]
    
    NOTE:
        В качестве альтернативы вы можете не использовать кривую, а установить параметры __Minimum Frizz__ и __Maximum Frizz__ в `0.25`.

[Image:/images/howto/hair_rasta_step4.png]

== Настройки шейдера ==

# Перейдите в шейдер для волос внутри fur object (Расположенный в `fur/shopnet1/textured_hair`).

    NOTE:
        Для быстрого доступа вы можете ((LMB)) стрелку рядом с параметром __Material__ на вкладке __Basic__ объекта Fur.

        Для открытия параметров шейдера в новом окне используйте ((Ctrl+LMB)).

# Уменьшите отражательную способность волос, уменьшив __Intensity__ на вкладке __Reflection__ до `0.02`.

# Включите __Randomize__ для __Diffuse Saturation__ и __Diffuse Intensity__ на __Randomness Tab__.

# Вы можете использовать кривые для создания нескольких ярких седых волос. Измените кривые в соответствии с приведенным ниже скриншотом.

[Image:/images/howto/hair_rasta_randomness.png]

NOTE:
    Случайные значения насыщенности и интенсивности выбираются из кривых __Source Values__. Установите 80% волос с высокой насыщенностью, и около 20% - с низкой. Установите 80% волос на темный цвет, а 20% - на яркий.
    
    __Важно__: Для обеих кривых используется одинаковый [seed|Wp:Seed_(programming)]. Это означает, что для каждого волоса положение вдоль каждой кривой будет одинаковым. Другими словами, волосы, которые ненасыщенные, также будут яркими.


[Image:/images/howto/hair_rasta_step5.png]

Чтобы уложить волосы, используйте инструменты на полке во вкладке [Grooming Shelf|/shelf/guidebrushes].
