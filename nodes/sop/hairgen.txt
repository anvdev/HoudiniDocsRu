#type:     node
#context:  sop
#internal: hairgen
#icon:     FUR/hairgen

= Hair Generate =

"""Генерирует волосы на поверхности или из точек."""

Может использовать направляющие кривые для придания формы сгенерированным волосам.

NOTE:
    Эта нода может генерировать анимированные волосы, если анимированная версия геометрии и направляющих имеют атрибут состояния покоя `rest`. В качестве альтернативы, можно на первый и второй входы подать геометрию кожи и направляющие в состоянии покоя, а на третий и четвертый входы - анимированную геометрию и направляющие.

@parameters

== General ==

=== Distribution ===

Mode:
    #id: mode

    Scatter On Surface:
	Разбрасывает направляющие по поверхности кожи.

    Per Point:
	Генерирует направляющую на каждой точке поверхности кожи.


Group:
    #id: group
    Кривые будут сгенерированы только на указанной группе примитивов.


Density:
    #id: density
    Разбрасывает волосы или направляющие с указанной плотностью.

    [Include:fur_common#parmoverride]

Scatter Seed:
    #id: scatterseed

    Значение [seed|Wp:Seed_(programming)] для разбрасывания. Изменяя это значение, кривые распределяются в другом случайном порядке с той же плотностью.

Relax Iterations:
    #id: scatterrelaxiterations

    Количество релаксаций позиций направляющих после разбрасывания. Более высокие значения приводят к более равномерному распределению направляющих за счет большего времени вычислений.

Relax Using Normal Attribute:
    #id: relaxusenormals

    Учитывает атрибут нормали поверхности при разбрасывании.

=== Optimization ===

Prune:
    #id: prune
    Сокращает количество волос в процентном отношении, чтобы ускорить вычисления.

Pruning Ratio:
    #id: pruningratio

    Сокращает количество волос в данном процентном отношении.

Limit To Bounding Box:
    #id: limittobbox

    Растит волосы только из тех корневых точек, которые находятся в ограничивающих боксах, определенных параметрами ниже.

Box Size:
    #id: bboxsize

    Размер ограничивающего бокса.

Center:
    #id: bboxcenter

    Центр ограничивающего бокса.


=== Guide Weights ===

Эта нода генерирует волосы, смешивая формы ближайших кривых. Ее параметры определяют, насколько каждая направляющая влияет на форму сгенерированных волос.

Use Guides:
    #id: useguides

    Смешивает формы соседних направляющих, чтобы определить форму каждого сгенерированного волоса.

Assume Uniform Segment Count & Length:
    #id: uniformguidesegments

    Использует более быстрый алгоритм интерполяции, который заключается в том, чтобы все направляющие имели одно и то же количество сегментов.

Compute Weights Using Skin Coordinates:
    #id: skininterp

    Вычисляет веса направляющих, на основе позиции волоса на примитиве геометрии. Это надежный и точный метод, но результат может выглядеть не так естественно, как при вычислении расстояния между направляющими, который используется при отключении данного параметра.

    Его можно использовать только тогда, когда направляющие расположены в каждой точке геометрии кожи.

    TIP:
	    Чтобы создать направляющие, которые работают с этим методом, используйте режим __Guide Per Point__ в объекте [Guide Groom|Node:obj/guidegroom].

Blending Method:
    #id: guideblendmethod

    Методы смешивания форм направляющих, влияющих на сгенерированную кривую.

    Linear Blend:
	Выполняет линейную интерполяцию между направляющими кривыми.

    Extrude And Blend:
	Экструдирует кривую вдоль каждой направляющей, а затем смешивает эти кривые.

Guide Group:
    #id: guidegroup

    Используемая группа направляющих.

Influence Radius:
    #id: influenceradius

    Радиус, в пределах которого направляющие оказывают влияние на сгенерированные волосы.

    [Include:fur_common#parmoverride]

Influence Decay:
    #id: influencedecay

    Управляет тем, как вес направляющей падает с увеличением расстояния. При более высоких значениях с увеличением расстояния направляющие имеют меньшее влияние, таким образом, волосы оказываются ближе к направляющим. При низких значениях влияние с увеличением расстояния увеличивается, что приводит к более сглаженному результату, поскольку влияние всех направляющих усредняется.

    [Include:fur_common#parmoverride]

Maximum Guide Count:
    #id: maxguidecount

    Учитывается максимальное количество направляющих. Игнорируются любые направляющие, превышающие указанное количество в пределах __Influence Radius__.

    [Include:fur_common#parmoverride]

Max Guide Angle:
    #id: maxguideangle

    Игнорируются направляющие, у которых угол отклонения от нормали геометрии кожи превышает указанный в этом параметре.

    [Include:fur_common#parmoverride]

Clump Crossover:
    #id: clumpcrossover

    Смешивает формы прядей направляющих волос. При значении `0` учитываются только те пряди, которые оказывают большое влияние на сгенерированные волосы. При высоких значениях учитываются также и более отдаленные пряди.

    TIP: Направляющие прядей могут быть созданы с помощью [Hair Clump SOP|Node:sop/hairclump].

    [Include:fur_common#parmoverride]

Create Guide & Weight Attribs:
    #id: createweightattribs

    Выводит индексы и веса направляющих, используемые для интерполяции, в качестве атрибутов в виде массива на сгенерированных примитивах.

=== Unguided Hairs ===

Grow Unguided Hair:
    #id: growunguided

    Растит волосы в позициях, находящихся за пределами радиуса воздействия направляющих.

Use Initial Direction Attribute:
    #id: useinitdirattrib

    Растит волосы в направлении, заданном векторным атрибутом на геометрии кожи.

Initial Dir Attrib:
    #id: initdirattrib

    Имя векторного атрибута на геометрии кожи.

Segments:
    #id: unguidedsegments

    Генерирует волосы с указанным количеством сегментов.

    NOTE:
	Если уже есть какие-либо направляющие, то нода генерирует волосы с тем же количеством сегментов, и данный параметр игнорируется.

Length:
    #id: unguidedlength

    Длина генерируемых волос.

    [Include:fur_common#parmoverride]

Minimum Length:
    #id: unguidedminlength

    Минимально требуемая длина волос. Волосы, длина которых окажется меньше, чем указанное значение, расти не будут.

== Attributes & Appearance ==

=== Thickness ===

Create Thickness Attribute:
    #id: outputthicknessattrib

    Добавляет сгенерированным волосам атрибут толщины.

Thickness Attribute:
    #id: thicknessattrib

    Имя атрибута толщины.

Thickness:
    #id: thickness

    Толщина сгенерированного волоса в самой толстой точке.

Hair Profile:
    #id: hairprofile

    Профиль толщины волоса.

=== Source Attribute Transfer ===

Эти параметры управляют тем, как атрибуты передаются с геометрии кожи на сгенерированные волосы.

Point Attributes:
    #id: pointattribs

    Список передаваемых атрибутов точек геометрии на примитивы волос.

    Использует интерполированное значение ближайших точек геометрии к позиции каждого корня волоса.

Vertex Attributes:
    #id: vertattribs

    Список передаваемых атрибутов вершин геометрии на примитивы волос. 

    Использует интерполированное значение ближайших вершин геометрии к позиции каждого корня волоса.

Primitive Attributes:
    #id: primattribs

    Список передаваемых атрибутов примитивов геометрии на примитивы волос.

    Использует значение примитива, наиболее близкого к позиции корня волоса.

Detail Attributes:
    #id: detailattribs

    Список передаваемых атрибутов класса `detail` геометрии на примитивы волос.

=== Guide Attribute Transfer ===

Point Attributes:
    #id: guidepointattribs

    Список передаваемых атрибутов точек направляющих на сгенерированные точки волос.

Primitive Attributes:
    #id: guideprimattribs

    Список передаваемых атрибутов примитивов направляющих на сгенерированные примитивы волос.

@related
- [Node:sop/guideprocess]
- [Node:sop/hairclump]
- [Node:sop/guidedeform]
