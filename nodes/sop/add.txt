= Add =

#type: node
#context: sop
#internal: add
#icon: SOP/add
#tags: points, polygons, create, tech

"""Создает точки или полигоны, или добавляет их к входной геометрии."""

При наличии входной геометрии, этот оператор добавляет на нее точки и полигоны, как описывается далее. В противном случае, оператор генерирует точки и полигоны как новые объекты.

== Извлечь точки ==

    Оператор Add может извлечь значения определенной точки из другого оператора, используя выражение point. Например, чтобы извлечь значения X, Y и Z пятой точки из ноды [Grid|Node:sop/grid] в сети _geo1_:

    {{{
    point("geo1/grid1",5,"P",0),point("geo2/grid1",5,"P",1), point("geo3/grid1",5,"P",2)
    }}}
    При наличии входной геометрии, точки, добавленные таким образом, попадают в конец списка точек. Чтобы узнать общее количество точек, нажмите на кнопку информации рядом с названием оператора и появится всплывающее окно. Например, если добавлены две точки и их общее количество стало 347 (с 0 по 346), то номера этих точек будут 345 и 346 соответственно.

== Создать определенное количество точек ==

    Создайте одну точку, используя ноду Add и затем соедините ее с нодой [Copy|Node:sop/copy] и в параметре количества копий укажите желаемое число (параметр можно проанимировать).

    Работает даже если количество точек указать 0, в отличие от некоторых других подходов.


@parameters

    == Points ==

        Обзор:
            Три поля ввода представляют из себя координаты точки X, Y, Z. Последнее поле отвечает за вес контрольной точки кривой. Если в последствии с помощью этой точки будет создан сплайн (NURBS или Bezier), то этот вес повлияет на форму кривой, в результате чего она станет рациональной. Вес не влияет на полигоны и метаболлы.

            X, Y, Z, и W могут быть как константами, так и переменными.

        Delete Geometry But Keep the Points:
            Уничтожает все полигоны, NURBs, и другие примитивы, оставляя только точки.

    == Polygons: By Pattern ==

        Обзор:
            Создается определенное количество полигонов, путем перечисления номеров точек входящей геометрии для каждого полигона. Введите списки точек соединения для создания полигонов.

            {{{
            {from}-{to}[:{every}][,{of}]
            eg1: 1 2 3 4
            eg2: 1 3-15 16 8
            eg3: 1-234 820-410 235-409
            eg4: 0-15:2
            eg5: 0-15:2,3
            }}}

    == Polygons: By Group ==

        Обзор:
            Создается столько полигонов, сколько определено входящей группой и правилами группировки.
        Group:
            Объединение точек, входящих в данную группу.
        Add:
            Выбор правила дополнительной группировки.
        N:
            #channels: /inc

            Шаг объединения точек, определенных правилами группировки.
        Attribute:
            Если выбран режим By Attribute, то с помощью указанного атрибута будут определяться то, каким образом будут соединены полигоны внутри группы. Точки, имеющие одинаковые значения атрибута будут соединены вместе. Порядок соединения будет учитывать порядок номеров точек внутри группы.
        Remove Unused Points:
            Точки, не соединенные примитивами будут удалены.

    == Particles ==
	Обзор:
	    Позволяет создать систему частиц из набора точек. Необходимо отметить, что это не приведет к созданию всех необходимых для частиц атрибутов. Это можно применить в случаях, когда необходимо пометить существующий набор точек как систему частиц для использования в других операциях, например, как источник частиц для DOP.

	    Чтобы преобразовать всю геометрию в частицы, необходимо включить флажок __Keep Points but Delete Primitives__ во вкладке __Points__ и затем включить параметр с пустым полем группы.

	Add Particle System:
	    Создает примитив системы частиц.

	Particle Group:
	    Номера точек, входящих в систему частиц. Они добавляются в указанном порядке. Если это поле остается пустым, то все точки будут добавлены в систему частиц.

	Add Unused Points to Particle System:
	    Если не создано ни одного примитива системы частиц, то он будет создан.

	    Точки, не связанные ни одним примитивом, добавятся к первому примитиву системы частиц.
	    


:bubble:
    #dir: right
    #display: gray
    [English version of this page|http://www.sidefx.com/docs/houdini/nodes/sop/add]


@locals
    N:
        Индекс последней точки геометрии.
    CEX, CEY, CEZ:
        Центроид входящей геометрии.
    XMIN, XMAX:
        Граница ограничивающего бокса входящей геометрии по оси X.
    YMIN, YMAX:
        Граница ограничивающего бокса входящей геометрии по оси Y.
    ZMIN, ZMAX:
        Граница ограничивающего бокса входящей геометрии по оси Z.
    SIZEX, SIZEY, SIZEZ:
        Размер ограничивающего бокса входящей геометрии.

